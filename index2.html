<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>HBDay</title>
  <link rel='stylesheet' href='https://cdn3.devexpress.com/jslib/18.2.6/css/dx.common.css'>
<link rel='stylesheet' href='https://cdn3.devexpress.com/jslib/18.2.6/css/dx.light.css'>
<link rel="stylesheet" href="./style2.css">
<script src="./data.js"></script>
<link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
</head>
<body>
  <body>

        <div id="searchWrapper">
            <input
                type="text"
                name="searchBar"
                id="searchBar"
                placeholder="search for a character"
            />
        </div>
        <ul id="charactersList"></ul>

</body>





  <script>
    

  //////////////////
  const charactersList = document.getElementById('charactersList');
  const searchBar = document.getElementById('searchBar');
  let hpCharacters = [];
  
  
  searchBar.addEventListener('keyup', (e) => {
      const searchString = e.target.value.toLowerCase();
  
      const filteredCharacters = hpCharacters.filter((character) => {

          return (
              character.name.toLowerCase().includes(searchString)
          );
      });
      displayCharacters(filteredCharacters);
  });
  
  const loadCharacters = async () => {

      try {
          const res = persons;
          hpCharacters = res
          console.error(hpCharacters);
          displayCharacters(hpCharacters);
      } catch (err) {
          console.error(err);
      }
  };
  
  const displayCharacters = (characters) => {
      const htmlString = characters
          .map((character) => {
              return `
              <li class="character">
                <img src="${character.image}"></img>
                  <h2>
                      ${character.name}
                      ${character.over}

                  </h2>
                  <p>${character.dateOfBirth}</p>
              </li>
          `;
          })
          .join('');
      charactersList.innerHTML = htmlString;
  };
  
  loadCharacters();
  


</script>
</body>
</html>
